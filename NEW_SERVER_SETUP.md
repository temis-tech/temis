# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –î–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞
- **IP:** `2a03:6f01:1:2::1:f3f5` (IPv6)
- **SSH:** `ssh root@2a03:6f01:1:2::1:f3f5`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `root`
- **–ü–∞—Ä–æ–ª—å:** `mW6iYUw2^Fv2+g`

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ GitHub –∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–ù–ï** —Å–æ–∑–¥–∞–≤–∞–π README, .gitignore –∏–ª–∏ –ª–∏—Ü–µ–Ω–∑–∏—é (—É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å)
3. –°–∫–æ–ø–∏—Ä—É–π URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `git@github.com:username/rainbow-say.git`)

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ git remote

–í—ã–ø–æ–ª–Ω–∏ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–æ–≤–æ–≥–æ remote
./scripts/setup-new-repo.sh git@github.com:—Ç–≤–æ–π-username/rainbow-say.git

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
git remote remove origin  # –µ—Å–ª–∏ –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–π origin
git remote add origin git@github.com:—Ç–≤–æ–π-username/rainbow-say.git
```

## –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞ –¥–ª—è –¥–µ–ø–ª–æ—è

```bash
# –°–æ–∑–¥–∞–π SSH –∫–ª—é—á
ssh-keygen -t ed25519 -C "github-actions-deploy" -f ~/.ssh/rainbow_say_deploy
# –ù–∞–∂–º–∏ Enter –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è (–±–µ–∑ –ø–∞—Ä–æ–ª—è)

# –î–æ–±–∞–≤—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
cat ~/.ssh/rainbow_say_deploy.pub | ssh root@2a03:6f01:1:2::1:f3f5 "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys"

# –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh -i ~/.ssh/rainbow_say_deploy root@2a03:6f01:1:2::1:f3f5 "echo 'SSH —Ä–∞–±–æ—Ç–∞–µ—Ç!'"
```

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

1. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub: **Settings ‚Üí Secrets and variables ‚Üí Actions**
2. –î–æ–±–∞–≤—å —Å–ª–µ–¥—É—é—â–∏–µ secrets:

### `SSH_PRIVATE_KEY`
```bash
# –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞:
cat ~/.ssh/rainbow_say_deploy
```
–í—Å—Ç–∞–≤—å –≤–µ—Å—å –≤—ã–≤–æ–¥ (–≤–∫–ª—é—á–∞—è `-----BEGIN OPENSSH PRIVATE KEY-----`)

### `SERVER_HOST`
```
2a03:6f01:1:2::1:f3f5
```

### `SERVER_USER`
```
root
```

## –®–∞–≥ 5: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏:

```bash
ssh root@2a03:6f01:1:2::1:f3f5

# –ó–∞–≥—Ä—É–∑–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# (–°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ scripts/setup-server-initial.sh –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é (—Å–º. `scripts/setup-server-initial.sh`)

## –®–∞–≥ 6: –ü—É—à –∫–æ–¥–∞ –≤ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
# –î–æ–±–∞–≤—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .

# –°–æ–∑–¥–∞–π –∫–æ–º–º–∏—Ç
git commit -m "Initial commit for new server"

# –ó–∞–ø—É—à—å –≤ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git push -u origin master

# –ï—Å–ª–∏ GitHub –∏—Å–ø–æ–ª—å–∑—É–µ—Ç main –≤–º–µ—Å—Ç–æ master:
git push -u origin master:main
```

## –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

1. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **Actions** –Ω–∞ GitHub
2. –î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è workflow
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è

## –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ SSL

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

```bash
ssh root@2a03:6f01:1:2::1:f3f5

# –ù–∞—Å—Ç—Ä–æ–π DNS –∑–∞–ø–∏—Å–∏ –¥–ª—è —Ç–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞
# –ó–∞—Ç–µ–º –ø–æ–ª—É—á–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
sudo certbot --nginx -d —Ç–≤–æ–π-–¥–æ–º–µ–Ω.com -d api.—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ nginx
sudo systemctl reload nginx
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status rainbow-say-frontend
sudo systemctl status rainbow-say-backend

# –õ–æ–≥–∏
sudo journalctl -u rainbow-say-frontend -f
sudo journalctl -u rainbow-say-backend -f
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **IPv6 –∞–¥—Ä–µ—Å:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–≤–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç IPv6
2. **–ü–æ—Ä—Ç—ã:** –ü–æ—Ä—Ç—ã 53413, 2525, 25, 3389, 389, 587, 465 –∑–∞–∫—Ä—ã—Ç—ã. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥—Ä—É–≥–∏–µ - —Å–æ–æ–±—â–∏
3. **–î–æ–º–µ–Ω:** –ù–µ –∑–∞–±—É–¥—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º SSL
4. **.env —Ñ–∞–π–ª:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å –∏ –Ω–∞—Å—Ç—Ä–æ–π `/var/www/rainbow-say/backend/.env`

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

- `deploy/GITHUB_CI_CD_SETUP.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ CI/CD
- `scripts/setup-new-repo.sh` - –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ git remote
- `scripts/setup-server-initial.sh` - –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `.github/workflows/ci.yml` - GitHub Actions workflow

